\hypertarget{classSPI}{
\section{SPI Class Reference}
\label{classSPI}\index{SPI@{SPI}}
}


{\ttfamily \#include $<$SPI.h$>$}

Inheritance diagram for SPI:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classSPI}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries tFrameMode} \{ {\bfseries kChipSelect}, 
{\bfseries kPreLatchPulse}, 
{\bfseries kPostLatchPulse}, 
{\bfseries kPreAndPostLatchPulse}
 \}
\item 
enum {\bfseries tSPIConstants} \{ {\bfseries kReceiveFIFODepth} = 512, 
{\bfseries kTransmitFIFODepth} = 512
 \}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classSPI_ab8a031abcb911915f2221324211f37b4}{SPI} (\hyperlink{classDigitalOutput}{DigitalOutput} \&clk, \hyperlink{classDigitalOutput}{DigitalOutput} \&mosi, \hyperlink{classDigitalInput}{DigitalInput} \&miso)
\item 
\hyperlink{classSPI_a5a9ff16c1b36056d2bab48c8bb9dd58f}{SPI} (\hyperlink{classDigitalOutput}{DigitalOutput} $\ast$clk, \hyperlink{classDigitalOutput}{DigitalOutput} $\ast$mosi, \hyperlink{classDigitalInput}{DigitalInput} $\ast$miso)
\item 
\hyperlink{classSPI_aa99a1d66d364cb0ec749026660fb8bd2}{SPI} (\hyperlink{classDigitalOutput}{DigitalOutput} \&clk, \hyperlink{classDigitalOutput}{DigitalOutput} \&mosi)
\item 
\hyperlink{classSPI_a8de2c7b9a8484df3e4588afa5ed47178}{SPI} (\hyperlink{classDigitalOutput}{DigitalOutput} $\ast$clk, \hyperlink{classDigitalOutput}{DigitalOutput} $\ast$mosi)
\item 
\hyperlink{classSPI_a1ff8fa9eb4cf60ec5238c5797651afec}{SPI} (\hyperlink{classDigitalOutput}{DigitalOutput} \&clk, \hyperlink{classDigitalInput}{DigitalInput} \&miso)
\item 
\hyperlink{classSPI_a74dd16adaa9ca26845ebc2f8c61379fa}{SPI} (\hyperlink{classDigitalOutput}{DigitalOutput} $\ast$clk, \hyperlink{classDigitalInput}{DigitalInput} $\ast$miso)
\item 
virtual \hyperlink{classSPI_a6babebf1ea3e8ff0330f43a3e2312ac4}{$\sim$SPI} ()
\item 
void \hyperlink{classSPI_af1d668c7056784c19d2d7b494e3c214a}{SetBitsPerWord} (UINT32 bits)
\item 
UINT32 \hyperlink{classSPI_a6dea6f0679df0018fd19b52f0bb06347}{GetBitsPerWord} ()
\item 
void \hyperlink{classSPI_a27b450354fc78eb4441e7d59f8fe65f2}{SetClockRate} (double hz)
\item 
void \hyperlink{classSPI_a66ed807d9a76400a74e815837b3ff32b}{SetMSBFirst} ()
\item 
void \hyperlink{classSPI_acd12e6ca307ec0dc0fb80f4cc9aa6ee3}{SetLSBFirst} ()
\item 
void \hyperlink{classSPI_a463dc7cb26d0b865c44c73538bc23ae0}{SetSampleDataOnFalling} ()
\item 
void \hyperlink{classSPI_a00eec7d4310c18e8cfb4b36592b488d9}{SetSampleDataOnRising} ()
\item 
void \hyperlink{classSPI_af0a6cd80fbc758c2a8e344f044e1a59d}{SetSlaveSelect} (\hyperlink{classDigitalOutput}{DigitalOutput} $\ast$ss, tFrameMode mode=kChipSelect, bool activeLow=false)
\item 
void \hyperlink{classSPI_ad2745d268c7350f65d4657b6d558a67a}{SetSlaveSelect} (\hyperlink{classDigitalOutput}{DigitalOutput} \&ss, tFrameMode mode=kChipSelect, bool activeLow=false)
\item 
\hyperlink{classDigitalOutput}{DigitalOutput} $\ast$ \hyperlink{classSPI_a614dfabba0dcbb66d6c1a88ba40bd26c}{GetSlaveSelect} (tFrameMode $\ast$mode=NULL, bool $\ast$activeLow=NULL)
\item 
void \hyperlink{classSPI_aa1b8cb48216e0a502bb34486636da047}{SetClockActiveLow} ()
\item 
void \hyperlink{classSPI_a5581a5f70c8e49dd712d44f40ee81e6f}{SetClockActiveHigh} ()
\item 
virtual void \hyperlink{classSPI_a660a95177a0e69be2ae3b0f5ace85d2c}{ApplyConfig} ()
\item 
virtual UINT16 \hyperlink{classSPI_a9154529287b4995e403ed110e76963cd}{GetOutputFIFOAvailable} ()
\item 
virtual UINT16 \hyperlink{classSPI_ab4de7fc2759b427c33af1aa0d79b1973}{GetNumReceived} ()
\item 
virtual bool \hyperlink{classSPI_a88ae50d03a0aeecac3045a4d5ca7fb81}{IsDone} ()
\item 
bool \hyperlink{classSPI_aec0f909f191fec08bb1a069bdb35fd8e}{HadReceiveOverflow} ()
\item 
virtual void \hyperlink{classSPI_a231184061058fc3924e0d5e3abb0dcb1}{Write} (UINT32 data)
\item 
virtual UINT32 \hyperlink{classSPI_a748b582c349402ddc4ea0fb0034b00b3}{Read} (bool initiate=false)
\item 
virtual void \hyperlink{classSPI_a19bcc2d6206a4c54a62cd0a358ef1d1a}{Reset} ()
\item 
virtual void \hyperlink{classSPI_ae70ffd5d8cd8f973b9fc2103d2ee3474}{ClearReceivedData} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classSPI_a2e51fd2a5f60a207e1948fcce6ce4b6a}{
\hyperlink{classnFPGA_1_1nFRC__2012__1__6__4_1_1tSPI}{tSPI} $\ast$ {\bfseries m\_\-spi}}
\label{classSPI_a2e51fd2a5f60a207e1948fcce6ce4b6a}

\item 
\hypertarget{classSPI_a246566dd89a56e47235573fa1cbf4650}{
\hyperlink{unionnFPGA_1_1nFRC__2012__1__6__4_1_1tSPI_1_1tConfig}{tSPI::tConfig} {\bfseries m\_\-config}}
\label{classSPI_a246566dd89a56e47235573fa1cbf4650}

\item 
\hypertarget{classSPI_a400f5597cc5fa5d5ec4e53b16e7e563a}{
\hyperlink{unionnFPGA_1_1nFRC__2012__1__6__4_1_1tSPI_1_1tChannels}{tSPI::tChannels} {\bfseries m\_\-channels}}
\label{classSPI_a400f5597cc5fa5d5ec4e53b16e7e563a}

\item 
\hypertarget{classSPI_abb5b7fdb1d7bd262f01f1955611dad04}{
\hyperlink{classDigitalOutput}{DigitalOutput} $\ast$ {\bfseries m\_\-ss}}
\label{classSPI_abb5b7fdb1d7bd262f01f1955611dad04}

\end{DoxyCompactItemize}
\subsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classSPI_a5526fc62f7ed652c65ab9e4a5f778062}{
static SEM\_\-ID {\bfseries m\_\-semaphore} = NULL}
\label{classSPI_a5526fc62f7ed652c65ab9e4a5f778062}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classSPI}{SPI} bus interface class.

This class is intended to be used by sensor (and other \hyperlink{classSPI}{SPI} device) drivers. It probably should not be used directly.

The FPGA only supports a single \hyperlink{classSPI}{SPI} interface. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classSPI_ab8a031abcb911915f2221324211f37b4}{
\index{SPI@{SPI}!SPI@{SPI}}
\index{SPI@{SPI}!SPI@{SPI}}
\subsubsection[{SPI}]{\setlength{\rightskip}{0pt plus 5cm}SPI::SPI (
\begin{DoxyParamCaption}
\item[{{\bf DigitalOutput} \&}]{clk, }
\item[{{\bf DigitalOutput} \&}]{mosi, }
\item[{{\bf DigitalInput} \&}]{miso}
\end{DoxyParamCaption}
)}}
\label{classSPI_ab8a031abcb911915f2221324211f37b4}
Constructor for input and output.


\begin{DoxyParams}{Parameters}
{\em clk} & The digital output for the clock signal. \\
\hline
{\em mosi} & The digital output for the written data to the slave (master-\/out slave-\/in). \\
\hline
{\em miso} & The digital input for the input data from the slave (master-\/in slave-\/out). \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_a5a9ff16c1b36056d2bab48c8bb9dd58f}{
\index{SPI@{SPI}!SPI@{SPI}}
\index{SPI@{SPI}!SPI@{SPI}}
\subsubsection[{SPI}]{\setlength{\rightskip}{0pt plus 5cm}SPI::SPI (
\begin{DoxyParamCaption}
\item[{{\bf DigitalOutput} $\ast$}]{clk, }
\item[{{\bf DigitalOutput} $\ast$}]{mosi, }
\item[{{\bf DigitalInput} $\ast$}]{miso}
\end{DoxyParamCaption}
)}}
\label{classSPI_a5a9ff16c1b36056d2bab48c8bb9dd58f}
Constructor for input and output.


\begin{DoxyParams}{Parameters}
{\em clk} & The digital output for the clock signal. \\
\hline
{\em mosi} & The digital output for the written data to the slave (master-\/out slave-\/in). \\
\hline
{\em miso} & The digital input for the input data from the slave (master-\/in slave-\/out). \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_aa99a1d66d364cb0ec749026660fb8bd2}{
\index{SPI@{SPI}!SPI@{SPI}}
\index{SPI@{SPI}!SPI@{SPI}}
\subsubsection[{SPI}]{\setlength{\rightskip}{0pt plus 5cm}SPI::SPI (
\begin{DoxyParamCaption}
\item[{{\bf DigitalOutput} \&}]{clk, }
\item[{{\bf DigitalOutput} \&}]{mosi}
\end{DoxyParamCaption}
)}}
\label{classSPI_aa99a1d66d364cb0ec749026660fb8bd2}
Constructor for output only.


\begin{DoxyParams}{Parameters}
{\em clk} & The digital output for the clock signal. \\
\hline
{\em mosi} & The digital output for the written data to the slave (master-\/out slave-\/in). \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_a8de2c7b9a8484df3e4588afa5ed47178}{
\index{SPI@{SPI}!SPI@{SPI}}
\index{SPI@{SPI}!SPI@{SPI}}
\subsubsection[{SPI}]{\setlength{\rightskip}{0pt plus 5cm}SPI::SPI (
\begin{DoxyParamCaption}
\item[{{\bf DigitalOutput} $\ast$}]{clk, }
\item[{{\bf DigitalOutput} $\ast$}]{mosi}
\end{DoxyParamCaption}
)}}
\label{classSPI_a8de2c7b9a8484df3e4588afa5ed47178}
Constructor for output only.


\begin{DoxyParams}{Parameters}
{\em clk} & The digital output for the clock signal. \\
\hline
{\em mosi} & The digital output for the written data to the slave (master-\/out slave-\/in). \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_a1ff8fa9eb4cf60ec5238c5797651afec}{
\index{SPI@{SPI}!SPI@{SPI}}
\index{SPI@{SPI}!SPI@{SPI}}
\subsubsection[{SPI}]{\setlength{\rightskip}{0pt plus 5cm}SPI::SPI (
\begin{DoxyParamCaption}
\item[{{\bf DigitalOutput} \&}]{clk, }
\item[{{\bf DigitalInput} \&}]{miso}
\end{DoxyParamCaption}
)}}
\label{classSPI_a1ff8fa9eb4cf60ec5238c5797651afec}
Constructor for input only.


\begin{DoxyParams}{Parameters}
{\em clk} & The digital output for the clock signal. \\
\hline
{\em miso} & The digital input for the input data from the slave (master-\/in slave-\/out). \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_a74dd16adaa9ca26845ebc2f8c61379fa}{
\index{SPI@{SPI}!SPI@{SPI}}
\index{SPI@{SPI}!SPI@{SPI}}
\subsubsection[{SPI}]{\setlength{\rightskip}{0pt plus 5cm}SPI::SPI (
\begin{DoxyParamCaption}
\item[{{\bf DigitalOutput} $\ast$}]{clk, }
\item[{{\bf DigitalInput} $\ast$}]{miso}
\end{DoxyParamCaption}
)}}
\label{classSPI_a74dd16adaa9ca26845ebc2f8c61379fa}
Constructor for input only.


\begin{DoxyParams}{Parameters}
{\em clk} & The digital output for the clock signal. \\
\hline
{\em miso} & The digital input for the input data from the slave (master-\/in slave-\/out). \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_a6babebf1ea3e8ff0330f43a3e2312ac4}{
\index{SPI@{SPI}!$\sim$SPI@{$\sim$SPI}}
\index{$\sim$SPI@{$\sim$SPI}!SPI@{SPI}}
\subsubsection[{$\sim$SPI}]{\setlength{\rightskip}{0pt plus 5cm}SPI::$\sim$SPI (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSPI_a6babebf1ea3e8ff0330f43a3e2312ac4}
Destructor. 

\subsection{Member Function Documentation}
\hypertarget{classSPI_a660a95177a0e69be2ae3b0f5ace85d2c}{
\index{SPI@{SPI}!ApplyConfig@{ApplyConfig}}
\index{ApplyConfig@{ApplyConfig}!SPI@{SPI}}
\subsubsection[{ApplyConfig}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::ApplyConfig (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSPI_a660a95177a0e69be2ae3b0f5ace85d2c}
Apply configuration settings and reset the \hyperlink{classSPI}{SPI} logic. \hypertarget{classSPI_ae70ffd5d8cd8f973b9fc2103d2ee3474}{
\index{SPI@{SPI}!ClearReceivedData@{ClearReceivedData}}
\index{ClearReceivedData@{ClearReceivedData}!SPI@{SPI}}
\subsubsection[{ClearReceivedData}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::ClearReceivedData (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSPI_ae70ffd5d8cd8f973b9fc2103d2ee3474}
Empty the receive FIFO. \hypertarget{classSPI_a6dea6f0679df0018fd19b52f0bb06347}{
\index{SPI@{SPI}!GetBitsPerWord@{GetBitsPerWord}}
\index{GetBitsPerWord@{GetBitsPerWord}!SPI@{SPI}}
\subsubsection[{GetBitsPerWord}]{\setlength{\rightskip}{0pt plus 5cm}UINT32 SPI::GetBitsPerWord (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classSPI_a6dea6f0679df0018fd19b52f0bb06347}
Get the number of bits from each word that the slave transmits or receives.

\begin{DoxyReturn}{Returns}
The number of bits in one frame (1 to 32 bits). 
\end{DoxyReturn}
\hypertarget{classSPI_ab4de7fc2759b427c33af1aa0d79b1973}{
\index{SPI@{SPI}!GetNumReceived@{GetNumReceived}}
\index{GetNumReceived@{GetNumReceived}!SPI@{SPI}}
\subsubsection[{GetNumReceived}]{\setlength{\rightskip}{0pt plus 5cm}UINT16 SPI::GetNumReceived (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSPI_ab4de7fc2759b427c33af1aa0d79b1973}
Get the number of words received and currently available to be read from the receive FIFO.

\begin{DoxyReturn}{Returns}
The number of words available to read. 
\end{DoxyReturn}
\hypertarget{classSPI_a9154529287b4995e403ed110e76963cd}{
\index{SPI@{SPI}!GetOutputFIFOAvailable@{GetOutputFIFOAvailable}}
\index{GetOutputFIFOAvailable@{GetOutputFIFOAvailable}!SPI@{SPI}}
\subsubsection[{GetOutputFIFOAvailable}]{\setlength{\rightskip}{0pt plus 5cm}UINT16 SPI::GetOutputFIFOAvailable (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSPI_a9154529287b4995e403ed110e76963cd}
Get the number of words that can currently be stored before being transmitted to the device.

\begin{DoxyReturn}{Returns}
The number of words available to be written. 
\end{DoxyReturn}
\hypertarget{classSPI_a614dfabba0dcbb66d6c1a88ba40bd26c}{
\index{SPI@{SPI}!GetSlaveSelect@{GetSlaveSelect}}
\index{GetSlaveSelect@{GetSlaveSelect}!SPI@{SPI}}
\subsubsection[{GetSlaveSelect}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DigitalOutput} $\ast$ SPI::GetSlaveSelect (
\begin{DoxyParamCaption}
\item[{tFrameMode $\ast$}]{mode = {\ttfamily NULL}, }
\item[{bool $\ast$}]{activeLow = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}}
\label{classSPI_a614dfabba0dcbb66d6c1a88ba40bd26c}
Get the slave select line behavior.


\begin{DoxyParams}{Parameters}
{\em mode} & Frame mode: kChipSelect: active for the duration of the frame. kPreLatchPulse: pulses before the transfer of each frame. kPostLatchPulse: pulses after the transfer of each frame. kPreAndPostLatchPulse: pulses before and after each frame. \\
\hline
{\em activeLow} & True if slave select line is active low. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The slave select digital output. 
\end{DoxyReturn}
\hypertarget{classSPI_aec0f909f191fec08bb1a069bdb35fd8e}{
\index{SPI@{SPI}!HadReceiveOverflow@{HadReceiveOverflow}}
\index{HadReceiveOverflow@{HadReceiveOverflow}!SPI@{SPI}}
\subsubsection[{HadReceiveOverflow}]{\setlength{\rightskip}{0pt plus 5cm}bool SPI::HadReceiveOverflow (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classSPI_aec0f909f191fec08bb1a069bdb35fd8e}
Determine if the receive FIFO was full when attempting to add new data at end of a transfer.

\begin{DoxyReturn}{Returns}
True if the receive FIFO overflowed. 
\end{DoxyReturn}
\hypertarget{classSPI_a88ae50d03a0aeecac3045a4d5ca7fb81}{
\index{SPI@{SPI}!IsDone@{IsDone}}
\index{IsDone@{IsDone}!SPI@{SPI}}
\subsubsection[{IsDone}]{\setlength{\rightskip}{0pt plus 5cm}bool SPI::IsDone (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSPI_a88ae50d03a0aeecac3045a4d5ca7fb81}
Have all pending transfers completed?

\begin{DoxyReturn}{Returns}
True if no transfers are pending. 
\end{DoxyReturn}
\hypertarget{classSPI_a748b582c349402ddc4ea0fb0034b00b3}{
\index{SPI@{SPI}!Read@{Read}}
\index{Read@{Read}!SPI@{SPI}}
\subsubsection[{Read}]{\setlength{\rightskip}{0pt plus 5cm}UINT32 SPI::Read (
\begin{DoxyParamCaption}
\item[{bool}]{initiate = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSPI_a748b582c349402ddc4ea0fb0034b00b3}
Read a word from the receive FIFO.

Waits for the current transfer to complete if the receive FIFO is empty.

If the receive FIFO is empty, there is no active transfer, and initiate is false, errors.


\begin{DoxyParams}{Parameters}
{\em initiate} & If true, this function pushes \char`\"{}0\char`\"{} into the transmit buffer and initiates a transfer. If false, this function assumes that data is already in the receive FIFO from a previous write. \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_a19bcc2d6206a4c54a62cd0a358ef1d1a}{
\index{SPI@{SPI}!Reset@{Reset}}
\index{Reset@{Reset}!SPI@{SPI}}
\subsubsection[{Reset}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::Reset (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSPI_a19bcc2d6206a4c54a62cd0a358ef1d1a}
Stop any transfer in progress and empty the transmit FIFO. \hypertarget{classSPI_af1d668c7056784c19d2d7b494e3c214a}{
\index{SPI@{SPI}!SetBitsPerWord@{SetBitsPerWord}}
\index{SetBitsPerWord@{SetBitsPerWord}!SPI@{SPI}}
\subsubsection[{SetBitsPerWord}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::SetBitsPerWord (
\begin{DoxyParamCaption}
\item[{UINT32}]{bits}
\end{DoxyParamCaption}
)}}
\label{classSPI_af1d668c7056784c19d2d7b494e3c214a}
Configure the number of bits from each word that the slave transmits or receives.


\begin{DoxyParams}{Parameters}
{\em bits} & The number of bits in one frame (1 to 32 bits). \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_a5581a5f70c8e49dd712d44f40ee81e6f}{
\index{SPI@{SPI}!SetClockActiveHigh@{SetClockActiveHigh}}
\index{SetClockActiveHigh@{SetClockActiveHigh}!SPI@{SPI}}
\subsubsection[{SetClockActiveHigh}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::SetClockActiveHigh (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classSPI_a5581a5f70c8e49dd712d44f40ee81e6f}
Configure the clock output line to be active high. This is sometimes called clock polarity low. \hypertarget{classSPI_aa1b8cb48216e0a502bb34486636da047}{
\index{SPI@{SPI}!SetClockActiveLow@{SetClockActiveLow}}
\index{SetClockActiveLow@{SetClockActiveLow}!SPI@{SPI}}
\subsubsection[{SetClockActiveLow}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::SetClockActiveLow (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classSPI_aa1b8cb48216e0a502bb34486636da047}
Configure the clock output line to be active low. This is sometimes called clock polarity high. \hypertarget{classSPI_a27b450354fc78eb4441e7d59f8fe65f2}{
\index{SPI@{SPI}!SetClockRate@{SetClockRate}}
\index{SetClockRate@{SetClockRate}!SPI@{SPI}}
\subsubsection[{SetClockRate}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::SetClockRate (
\begin{DoxyParamCaption}
\item[{double}]{hz}
\end{DoxyParamCaption}
)}}
\label{classSPI_a27b450354fc78eb4441e7d59f8fe65f2}
Configure the rate of the generated clock signal. The default and maximum value is 76,628.4 Hz.


\begin{DoxyParams}{Parameters}
{\em hz} & The clock rate in Hertz. \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_acd12e6ca307ec0dc0fb80f4cc9aa6ee3}{
\index{SPI@{SPI}!SetLSBFirst@{SetLSBFirst}}
\index{SetLSBFirst@{SetLSBFirst}!SPI@{SPI}}
\subsubsection[{SetLSBFirst}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::SetLSBFirst (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classSPI_acd12e6ca307ec0dc0fb80f4cc9aa6ee3}
Configure the order that bits are sent and received on the wire to be least significant bit first. \hypertarget{classSPI_a66ed807d9a76400a74e815837b3ff32b}{
\index{SPI@{SPI}!SetMSBFirst@{SetMSBFirst}}
\index{SetMSBFirst@{SetMSBFirst}!SPI@{SPI}}
\subsubsection[{SetMSBFirst}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::SetMSBFirst (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classSPI_a66ed807d9a76400a74e815837b3ff32b}
Configure the order that bits are sent and received on the wire to be most significant bit first. \hypertarget{classSPI_a463dc7cb26d0b865c44c73538bc23ae0}{
\index{SPI@{SPI}!SetSampleDataOnFalling@{SetSampleDataOnFalling}}
\index{SetSampleDataOnFalling@{SetSampleDataOnFalling}!SPI@{SPI}}
\subsubsection[{SetSampleDataOnFalling}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::SetSampleDataOnFalling (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classSPI_a463dc7cb26d0b865c44c73538bc23ae0}
Configure that the data is stable on the falling edge and the data changes on the rising edge. \hypertarget{classSPI_a00eec7d4310c18e8cfb4b36592b488d9}{
\index{SPI@{SPI}!SetSampleDataOnRising@{SetSampleDataOnRising}}
\index{SetSampleDataOnRising@{SetSampleDataOnRising}!SPI@{SPI}}
\subsubsection[{SetSampleDataOnRising}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::SetSampleDataOnRising (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classSPI_a00eec7d4310c18e8cfb4b36592b488d9}
Configure that the data is stable on the rising edge and the data changes on the falling edge. \hypertarget{classSPI_af0a6cd80fbc758c2a8e344f044e1a59d}{
\index{SPI@{SPI}!SetSlaveSelect@{SetSlaveSelect}}
\index{SetSlaveSelect@{SetSlaveSelect}!SPI@{SPI}}
\subsubsection[{SetSlaveSelect}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::SetSlaveSelect (
\begin{DoxyParamCaption}
\item[{{\bf DigitalOutput} $\ast$}]{ss, }
\item[{tFrameMode}]{mode = {\ttfamily kChipSelect}, }
\item[{bool}]{activeLow = {\ttfamily false}}
\end{DoxyParamCaption}
)}}
\label{classSPI_af0a6cd80fbc758c2a8e344f044e1a59d}
Configure the slave select line behavior.


\begin{DoxyParams}{Parameters}
{\em ss} & slave select digital output. \\
\hline
{\em mode} & Frame mode: kChipSelect: active for the duration of the frame. kPreLatchPulse: pulses before the transfer of each frame. kPostLatchPulse: pulses after the transfer of each frame. kPreAndPostLatchPulse: pulses before and after each frame. \\
\hline
{\em activeLow} & True if slave select line is active low. \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_ad2745d268c7350f65d4657b6d558a67a}{
\index{SPI@{SPI}!SetSlaveSelect@{SetSlaveSelect}}
\index{SetSlaveSelect@{SetSlaveSelect}!SPI@{SPI}}
\subsubsection[{SetSlaveSelect}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::SetSlaveSelect (
\begin{DoxyParamCaption}
\item[{{\bf DigitalOutput} \&}]{ss, }
\item[{tFrameMode}]{mode = {\ttfamily kChipSelect}, }
\item[{bool}]{activeLow = {\ttfamily false}}
\end{DoxyParamCaption}
)}}
\label{classSPI_ad2745d268c7350f65d4657b6d558a67a}
Configure the slave select line behavior.


\begin{DoxyParams}{Parameters}
{\em ss} & slave select digital output. \\
\hline
{\em mode} & Frame mode: kChipSelect: active for the duration of the frame. kPreLatchPulse: pulses before the transfer of each frame. kPostLatchPulse: pulses after the transfer of each frame. kPreAndPostLatchPulse: pulses before and after each frame. \\
\hline
{\em activeLow} & True if slave select line is active low. \\
\hline
\end{DoxyParams}
\hypertarget{classSPI_a231184061058fc3924e0d5e3abb0dcb1}{
\index{SPI@{SPI}!Write@{Write}}
\index{Write@{Write}!SPI@{SPI}}
\subsubsection[{Write}]{\setlength{\rightskip}{0pt plus 5cm}void SPI::Write (
\begin{DoxyParamCaption}
\item[{UINT32}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classSPI_a231184061058fc3924e0d5e3abb0dcb1}
Write a word to the slave device. Blocks until there is space in the output FIFO.

If not running in output only mode, also saves the data received on the MISO input during the transfer into the receive FIFO. 

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
SPI.h\item 
SPI.cpp\end{DoxyCompactItemize}

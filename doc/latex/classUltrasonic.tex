\hypertarget{classUltrasonic}{\section{\-Ultrasonic \-Class \-Reference}
\label{classUltrasonic}\index{\-Ultrasonic@{\-Ultrasonic}}
}


{\ttfamily \#include $<$\-Ultrasonic.\-h$>$}

\-Inheritance diagram for \-Ultrasonic\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classUltrasonic}
\end{center}
\end{figure}
\subsection*{\-Public \-Types}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries \-Distance\-Unit} \{ {\bfseries k\-Inches} =  0, 
{\bfseries k\-Milli\-Meters} =  1
 \}
\end{DoxyCompactItemize}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classUltrasonic_aefd7583faa56df3a6c1a4fc38d3752e2}{\-Ultrasonic} (\hyperlink{classDigitalOutput}{\-Digital\-Output} $\ast$ping\-Channel, \hyperlink{classDigitalInput}{\-Digital\-Input} $\ast$echo\-Channel, \-Distance\-Unit units=k\-Inches)
\item 
\hyperlink{classUltrasonic_a5089d8a662c2b13f9bb15d6d36f11e36}{\-Ultrasonic} (\hyperlink{classDigitalOutput}{\-Digital\-Output} \&ping\-Channel, \hyperlink{classDigitalInput}{\-Digital\-Input} \&echo\-Channel, \-Distance\-Unit units=k\-Inches)
\item 
\hyperlink{classUltrasonic_a2c89013dc7050dc8a99f6eaf9b664482}{\-Ultrasonic} (\-U\-I\-N\-T32 ping\-Channel, \-U\-I\-N\-T32 echo\-Channel, \-Distance\-Unit units=k\-Inches)
\item 
\hyperlink{classUltrasonic_a890f716bd320f15bfa15c9c376f06b77}{\-Ultrasonic} (\-U\-I\-N\-T32 ping\-Slot, \-U\-I\-N\-T32 ping\-Channel, \-U\-I\-N\-T32 echo\-Slot, \-U\-I\-N\-T32 echo\-Channel, \-Distance\-Unit units=k\-Inches)
\item 
virtual \hyperlink{classUltrasonic_ab5066b2bfeac723140c18b9f8340abad}{$\sim$\-Ultrasonic} ()
\item 
void \hyperlink{classUltrasonic_aff9a83272ddaf8579ce2434e20f0b965}{\-Ping} ()
\item 
bool \hyperlink{classUltrasonic_a765c830f4ff4c68e83de2f14d43fa54c}{\-Is\-Range\-Valid} ()
\item 
double \hyperlink{classUltrasonic_a73c80fe92b2085107714c6a110d90d70}{\-Get\-Range\-Inches} ()
\item 
double \hyperlink{classUltrasonic_af35c9a3273f1ffcf0eb17308d986d7c0}{\-Get\-Range\-M\-M} ()
\item 
\hypertarget{classUltrasonic_a5ff4ef91ebe488a3a30658b23fd846fa}{bool {\bfseries \-Is\-Enabled} ()}\label{classUltrasonic_a5ff4ef91ebe488a3a30658b23fd846fa}

\item 
\hypertarget{classUltrasonic_aa3e3a0dc833cc2549026e6d3c3d7fe47}{void {\bfseries \-Set\-Enabled} (bool enable)}\label{classUltrasonic_aa3e3a0dc833cc2549026e6d3c3d7fe47}

\item 
double \hyperlink{classUltrasonic_a8ec6de749ccd7e93b28735e9cc6d0b22}{\-P\-I\-D\-Get} ()
\item 
void \hyperlink{classUltrasonic_a0fc0d0787d943c45e04194727addaac0}{\-Set\-Distance\-Units} (\-Distance\-Unit units)
\item 
\-Distance\-Unit \hyperlink{classUltrasonic_aac979c8a612ef86912989a782f7dd634}{\-Get\-Distance\-Units} ()
\end{DoxyCompactItemize}
\subsection*{\-Static \-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{classUltrasonic_a16105fb0a316d780b8ea1554e3109825}{\-Set\-Automatic\-Mode} (bool enabling)
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\hyperlink{classUltrasonic}{\-Ultrasonic} rangefinder class. \-The \hyperlink{classUltrasonic}{\-Ultrasonic} rangefinder measures absolute distance based on the round-\/trip time of a ping generated by the controller. \-These sensors use two transducers, a speaker and a microphone both tuned to the ultrasonic range. \-A common ultrasonic sensor, the \-Daventech \-S\-R\-F04 requires a short pulse to be generated on a digital channel. \-This causes the chirp to be emmitted. \-A second line becomes high as the ping is transmitted and goes low when the echo is received. \-The time that the line is high determines the round trip distance (time of flight). 

\subsection{\-Constructor \& \-Destructor \-Documentation}
\hypertarget{classUltrasonic_aefd7583faa56df3a6c1a4fc38d3752e2}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Ultrasonic@{\-Ultrasonic}}
\index{\-Ultrasonic@{\-Ultrasonic}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Ultrasonic}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Ultrasonic\-::\-Ultrasonic} (
\begin{DoxyParamCaption}
\item[{{\bf \-Digital\-Output} $\ast$}]{ping\-Channel, }
\item[{{\bf \-Digital\-Input} $\ast$}]{echo\-Channel, }
\item[{\-Distance\-Unit}]{units = {\ttfamily k\-Inches}}
\end{DoxyParamCaption}
)}}\label{classUltrasonic_aefd7583faa56df3a6c1a4fc38d3752e2}
\-Create an instance of an \hyperlink{classUltrasonic}{\-Ultrasonic} \-Sensor from a \hyperlink{classDigitalInput}{\-Digital\-Input} for the echo channel and a \hyperlink{classDigitalOutput}{\-Digital\-Output} for the ping channel. 
\begin{DoxyParams}{\-Parameters}
{\em ping\-Channel} & \-The digital output object that starts the sensor doing a ping. \-Requires a 10u\-S pulse to start. \\
\hline
{\em echo\-Channel} & \-The digital input object that times the return pulse to determine the range. \\
\hline
{\em units} & \-The units returned in either k\-Inches or k\-Milli\-Meters \\
\hline
\end{DoxyParams}
\hypertarget{classUltrasonic_a5089d8a662c2b13f9bb15d6d36f11e36}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Ultrasonic@{\-Ultrasonic}}
\index{\-Ultrasonic@{\-Ultrasonic}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Ultrasonic}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Ultrasonic\-::\-Ultrasonic} (
\begin{DoxyParamCaption}
\item[{{\bf \-Digital\-Output} \&}]{ping\-Channel, }
\item[{{\bf \-Digital\-Input} \&}]{echo\-Channel, }
\item[{\-Distance\-Unit}]{units = {\ttfamily k\-Inches}}
\end{DoxyParamCaption}
)}}\label{classUltrasonic_a5089d8a662c2b13f9bb15d6d36f11e36}
\-Create an instance of an \hyperlink{classUltrasonic}{\-Ultrasonic} \-Sensor from a \hyperlink{classDigitalInput}{\-Digital\-Input} for the echo channel and a \hyperlink{classDigitalOutput}{\-Digital\-Output} for the ping channel. 
\begin{DoxyParams}{\-Parameters}
{\em ping\-Channel} & \-The digital output object that starts the sensor doing a ping. \-Requires a 10u\-S pulse to start. \\
\hline
{\em echo\-Channel} & \-The digital input object that times the return pulse to determine the range. \\
\hline
{\em units} & \-The units returned in either k\-Inches or k\-Milli\-Meters \\
\hline
\end{DoxyParams}
\hypertarget{classUltrasonic_a2c89013dc7050dc8a99f6eaf9b664482}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Ultrasonic@{\-Ultrasonic}}
\index{\-Ultrasonic@{\-Ultrasonic}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Ultrasonic}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Ultrasonic\-::\-Ultrasonic} (
\begin{DoxyParamCaption}
\item[{\-U\-I\-N\-T32}]{ping\-Channel, }
\item[{\-U\-I\-N\-T32}]{echo\-Channel, }
\item[{\-Distance\-Unit}]{units = {\ttfamily k\-Inches}}
\end{DoxyParamCaption}
)}}\label{classUltrasonic_a2c89013dc7050dc8a99f6eaf9b664482}
\-Create an instance of the \hyperlink{classUltrasonic}{\-Ultrasonic} \-Sensor using the default module. \-This is designed to supchannel the \-Daventech \-S\-R\-F04 and \-Vex ultrasonic sensors. \-This constructor assumes that both digital \-I/\-O channels are in the default digital module. 
\begin{DoxyParams}{\-Parameters}
{\em ping\-Channel} & \-The digital output channel that sends the pulse to initiate the sensor sending the ping. \\
\hline
{\em echo\-Channel} & \-The digital input channel that receives the echo. \-The length of time that the echo is high represents the round trip time of the ping, and the distance. \\
\hline
{\em units} & \-The units returned in either k\-Inches or k\-Milli\-Meters \\
\hline
\end{DoxyParams}
\hypertarget{classUltrasonic_a890f716bd320f15bfa15c9c376f06b77}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Ultrasonic@{\-Ultrasonic}}
\index{\-Ultrasonic@{\-Ultrasonic}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Ultrasonic}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Ultrasonic\-::\-Ultrasonic} (
\begin{DoxyParamCaption}
\item[{\-U\-I\-N\-T32}]{ping\-Slot, }
\item[{\-U\-I\-N\-T32}]{ping\-Channel, }
\item[{\-U\-I\-N\-T32}]{echo\-Slot, }
\item[{\-U\-I\-N\-T32}]{echo\-Channel, }
\item[{\-Distance\-Unit}]{units = {\ttfamily k\-Inches}}
\end{DoxyParamCaption}
)}}\label{classUltrasonic_a890f716bd320f15bfa15c9c376f06b77}
\-Create an instance of the \hyperlink{classUltrasonic}{\-Ultrasonic} sensor using specified modules. \-This is designed to supchannel the \-Daventech \-S\-R\-F04 and \-Vex ultrasonic sensors. \-This constructors takes the channel and module slot for each of the required digital \-I/\-O channels. 
\begin{DoxyParams}{\-Parameters}
{\em ping\-Slot} & \-The digital module that the ping\-Channel is in. \\
\hline
{\em ping\-Channel} & \-The digital output channel that sends the pulse to initiate the sensor sending the ping. \\
\hline
{\em echo\-Slot} & \-The digital module that the echo\-Channel is in. \\
\hline
{\em echo\-Channel} & \-The digital input channel that receives the echo. \-The length of time that the echo is high represents the round trip time of the ping, and the distance. \\
\hline
{\em units} & \-The units returned in either k\-Inches or k\-Milli\-Meters \\
\hline
\end{DoxyParams}
\hypertarget{classUltrasonic_ab5066b2bfeac723140c18b9f8340abad}{\index{\-Ultrasonic@{\-Ultrasonic}!$\sim$\-Ultrasonic@{$\sim$\-Ultrasonic}}
\index{$\sim$\-Ultrasonic@{$\sim$\-Ultrasonic}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{$\sim$\-Ultrasonic}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Ultrasonic\-::$\sim$\-Ultrasonic} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classUltrasonic_ab5066b2bfeac723140c18b9f8340abad}
\-Destructor for the ultrasonic sensor. \-Delete the instance of the ultrasonic sensor by freeing the allocated digital channels. \-If the system was in automatic mode (round robin), then it is stopped, then started again after this sensor is removed (provided this wasn't the last sensor). 

\subsection{\-Member \-Function \-Documentation}
\hypertarget{classUltrasonic_aac979c8a612ef86912989a782f7dd634}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Get\-Distance\-Units@{\-Get\-Distance\-Units}}
\index{\-Get\-Distance\-Units@{\-Get\-Distance\-Units}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Get\-Distance\-Units}]{\setlength{\rightskip}{0pt plus 5cm}\-Ultrasonic\-::\-Distance\-Unit {\bf \-Ultrasonic\-::\-Get\-Distance\-Units} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classUltrasonic_aac979c8a612ef86912989a782f7dd634}
\-Get the current \-Distance\-Unit that is used for the \hyperlink{classPIDSource}{\-P\-I\-D\-Source} base object.

\begin{DoxyReturn}{\-Returns}
\-The type of \-Distance\-Unit that is being used. 
\end{DoxyReturn}
\hypertarget{classUltrasonic_a73c80fe92b2085107714c6a110d90d70}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Get\-Range\-Inches@{\-Get\-Range\-Inches}}
\index{\-Get\-Range\-Inches@{\-Get\-Range\-Inches}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Get\-Range\-Inches}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf \-Ultrasonic\-::\-Get\-Range\-Inches} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classUltrasonic_a73c80fe92b2085107714c6a110d90d70}
\-Get the range in inches from the ultrasonic sensor. \begin{DoxyReturn}{\-Returns}
double \-Range in inches of the target returned from the ultrasonic sensor. \-If there is no valid value yet, i.\-e. at least one measurement hasn't completed, then return 0. 
\end{DoxyReturn}
\hypertarget{classUltrasonic_af35c9a3273f1ffcf0eb17308d986d7c0}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Get\-Range\-M\-M@{\-Get\-Range\-M\-M}}
\index{\-Get\-Range\-M\-M@{\-Get\-Range\-M\-M}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Get\-Range\-M\-M}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf \-Ultrasonic\-::\-Get\-Range\-M\-M} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classUltrasonic_af35c9a3273f1ffcf0eb17308d986d7c0}
\-Get the range in millimeters from the ultrasonic sensor. \begin{DoxyReturn}{\-Returns}
double \-Range in millimeters of the target returned by the ultrasonic sensor. \-If there is no valid value yet, i.\-e. at least one measurement hasn't complted, then return 0. 
\end{DoxyReturn}
\hypertarget{classUltrasonic_a765c830f4ff4c68e83de2f14d43fa54c}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Is\-Range\-Valid@{\-Is\-Range\-Valid}}
\index{\-Is\-Range\-Valid@{\-Is\-Range\-Valid}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Is\-Range\-Valid}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf \-Ultrasonic\-::\-Is\-Range\-Valid} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classUltrasonic_a765c830f4ff4c68e83de2f14d43fa54c}
\-Check if there is a valid range measurement. \-The ranges are accumulated in a counter that will increment on each edge of the echo (return) signal. \-If the count is not at least 2, then the range has not yet been measured, and is invalid. \hypertarget{classUltrasonic_a8ec6de749ccd7e93b28735e9cc6d0b22}{\index{\-Ultrasonic@{\-Ultrasonic}!\-P\-I\-D\-Get@{\-P\-I\-D\-Get}}
\index{\-P\-I\-D\-Get@{\-P\-I\-D\-Get}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-P\-I\-D\-Get}]{\setlength{\rightskip}{0pt plus 5cm}double {\bf \-Ultrasonic\-::\-P\-I\-D\-Get} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}\label{classUltrasonic_a8ec6de749ccd7e93b28735e9cc6d0b22}
\-Get the range in the current \-Distance\-Unit for the \hyperlink{classPIDSource}{\-P\-I\-D\-Source} base object.

\begin{DoxyReturn}{\-Returns}
\-The range in \-Distance\-Unit 
\end{DoxyReturn}


\-Implements \hyperlink{classPIDSource}{\-P\-I\-D\-Source}.

\hypertarget{classUltrasonic_aff9a83272ddaf8579ce2434e20f0b965}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Ping@{\-Ping}}
\index{\-Ping@{\-Ping}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Ping}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Ultrasonic\-::\-Ping} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classUltrasonic_aff9a83272ddaf8579ce2434e20f0b965}
\-Single ping to ultrasonic sensor. \-Send out a single ping to the ultrasonic sensor. \-This only works if automatic (round robin) mode is disabled. \-A single ping is sent out, and the counter should count the semi-\/period when it comes in. \-The counter is reset to make the current value invalid. \hypertarget{classUltrasonic_a16105fb0a316d780b8ea1554e3109825}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Set\-Automatic\-Mode@{\-Set\-Automatic\-Mode}}
\index{\-Set\-Automatic\-Mode@{\-Set\-Automatic\-Mode}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Set\-Automatic\-Mode}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Ultrasonic\-::\-Set\-Automatic\-Mode} (
\begin{DoxyParamCaption}
\item[{bool}]{enabling}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{classUltrasonic_a16105fb0a316d780b8ea1554e3109825}
\-Turn \-Automatic mode on/off. \-When in \-Automatic mode, all sensors will fire in round robin, waiting a set time between each sensor. 
\begin{DoxyParams}{\-Parameters}
{\em enabling} & \-Set to true if round robin scheduling should start for all the ultrasonic sensors. \-This scheduling method assures that the sensors are non-\/interfering because no two sensors fire at the same time. \-If another scheduling algorithm is preffered, it can be implemented by pinging the sensors manually and waiting for the results to come back. \\
\hline
\end{DoxyParams}
\hypertarget{classUltrasonic_a0fc0d0787d943c45e04194727addaac0}{\index{\-Ultrasonic@{\-Ultrasonic}!\-Set\-Distance\-Units@{\-Set\-Distance\-Units}}
\index{\-Set\-Distance\-Units@{\-Set\-Distance\-Units}!Ultrasonic@{\-Ultrasonic}}
\subsubsection[{\-Set\-Distance\-Units}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Ultrasonic\-::\-Set\-Distance\-Units} (
\begin{DoxyParamCaption}
\item[{\-Distance\-Unit}]{units}
\end{DoxyParamCaption}
)}}\label{classUltrasonic_a0fc0d0787d943c45e04194727addaac0}
\-Set the current \-Distance\-Unit that should be used for the \hyperlink{classPIDSource}{\-P\-I\-D\-Source} base object.


\begin{DoxyParams}{\-Parameters}
{\em units} & \-The \-Distance\-Unit that should be used. \\
\hline
\end{DoxyParams}


\-The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
\-Ultrasonic.\-h\item 
\-Ultrasonic.\-cpp\end{DoxyCompactItemize}

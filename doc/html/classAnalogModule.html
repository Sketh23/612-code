<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>WPILib: AnalogModule Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">WPILib&#160;<span id="projectnumber">2012</span></div>
   <div id="projectbrief">WPILibRoboticsLibraryforFRC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">AnalogModule Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="AnalogModule" --><!-- doxytag: inherits="Module" -->
<p><code>#include &lt;<a class="el" href="AnalogModule_8h_source.html">AnalogModule.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AnalogModule:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAnalogModule.png" usemap="#AnalogModule_map" alt=""/>
  <map id="AnalogModule_map" name="AnalogModule_map">
<area href="classModule.html" alt="Module" shape="rect" coords="0,112,94,136"/>
<area href="classSensorBase.html" alt="SensorBase" shape="rect" coords="0,56,94,80"/>
<area href="classErrorBase.html" alt="ErrorBase" shape="rect" coords="0,0,94,24"/>
</map>
 </div></div>

<p><a href="classAnalogModule-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a19bfb0c8ddf33573c4da105bee04b951">SetSampleRate</a> (float samplesPerSecond)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#ab063044c14383369726b80ce93c334be">GetSampleRate</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a7c7f2eade6ca95f337d394c89f7f9da5">SetAverageBits</a> (UINT32 channel, UINT32 bits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a5b5a1104a3415b5960d521f402b68f91">GetAverageBits</a> (UINT32 channel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a556054af12905bd3d38972d15ecd08dc">SetOversampleBits</a> (UINT32 channel, UINT32 bits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#acf3aa82998c5f22099a79d24f6c77861">GetOversampleBits</a> (UINT32 channel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INT16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a23f1793a4408e824b7d6b38295ea8be1">GetValue</a> (UINT32 channel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a501c32dcebccd03057b9f01683431f4b">GetAverageValue</a> (UINT32 channel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#ae74bde5efa97807ce42ad9834bb5b4b2">GetAverageVoltage</a> (UINT32 channel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a4c2875e0c44d93ea110bc3cf4f8d740e">GetVoltage</a> (UINT32 channel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a1cc2b9f90b5abaa42ddfde7cbbbf7d7c">GetLSBWeight</a> (UINT32 channel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a3c428c04cb174c95dad6f2cb449b135f">GetOffset</a> (UINT32 channel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">INT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a4d32e8352879088d4749efec89751313">VoltsToValue</a> (INT32 channel, float voltage)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classAnalogModule.html">AnalogModule</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a73ff2a8a74ce3371d73c701890cc422a">GetInstance</a> (UINT8 moduleNumber)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93e13c1b5a181a92a660400c5c93c85c"></a><!-- doxytag: member="AnalogModule::kTimebase" ref="a93e13c1b5a181a92a660400c5c93c85c" args="" -->
static const long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a93e13c1b5a181a92a660400c5c93c85c">kTimebase</a> = 40000000</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">40 MHz clock <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2168f18fda6489141cbac5dfcd2e8343"></a><!-- doxytag: member="AnalogModule::kDefaultOversampleBits" ref="a2168f18fda6489141cbac5dfcd2e8343" args="" -->
static const long&#160;</td><td class="memItemRight" valign="bottom"><b>kDefaultOversampleBits</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b4f6d9fd0b08bbdbce1c5abd799a67e"></a><!-- doxytag: member="AnalogModule::kDefaultAverageBits" ref="a0b4f6d9fd0b08bbdbce1c5abd799a67e" args="" -->
static const long&#160;</td><td class="memItemRight" valign="bottom"><b>kDefaultAverageBits</b> = 7</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f67b2c3cd0471a85add1583ac5420e8"></a><!-- doxytag: member="AnalogModule::kDefaultSampleRate" ref="a0f67b2c3cd0471a85add1583ac5420e8" args="" -->
static const float&#160;</td><td class="memItemRight" valign="bottom"><b>kDefaultSampleRate</b> = 50000.0</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#acd4b2c7f4760aaf15f175a70efdd9911">AnalogModule</a> (UINT8 moduleNumber)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a480eae8e68c3e5447e423939474b607c">~AnalogModule</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a21f639900c480510650969df9c74d17d"></a><!-- doxytag: member="AnalogModule::Module" ref="a21f639900c480510650969df9c74d17d" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAnalogModule.html#a21f639900c480510650969df9c74d17d">Module</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Analog <a class="el" href="classModule.html">Module</a> class. Each module can independently sample its channels at a configurable rate. There is a 64-bit hardware accumulator associated with channel 1 on each module. The accumulator is attached to the output of the oversample and average engine so that the center value can be specified in higher resolution resulting in less error. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acd4b2c7f4760aaf15f175a70efdd9911"></a><!-- doxytag: member="AnalogModule::AnalogModule" ref="acd4b2c7f4760aaf15f175a70efdd9911" args="(UINT8 moduleNumber)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AnalogModule::AnalogModule </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>moduleNumber</em></td><td>)</td>
          <td><code> [explicit, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new instance of an analog module.</p>
<p>Create an instance of the analog module object. Initialize all the parameters to reasonable values on start. Setting a global value on an analog module can be done only once unless subsequent values are set the previously set value. Analog modules are a singleton, so the constructor is never called outside of this class.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleNumber</td><td>The analog module to create (1 or 2). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a480eae8e68c3e5447e423939474b607c"></a><!-- doxytag: member="AnalogModule::~AnalogModule" ref="a480eae8e68c3e5447e423939474b607c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AnalogModule::~AnalogModule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor for <a class="el" href="classAnalogModule.html">AnalogModule</a>. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5b5a1104a3415b5960d521f402b68f91"></a><!-- doxytag: member="AnalogModule::GetAverageBits" ref="a5b5a1104a3415b5960d521f402b68f91" args="(UINT32 channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT32 AnalogModule::GetAverageBits </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the number of averaging bits.</p>
<p>This gets the number of averaging bits from the FPGA. The actual number of averaged samples is 2**bits. The averaging is done automatically in the FPGA.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Channel to address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Bits to average. </dd></dl>

</div>
</div>
<a class="anchor" id="a501c32dcebccd03057b9f01683431f4b"></a><!-- doxytag: member="AnalogModule::GetAverageValue" ref="a501c32dcebccd03057b9f01683431f4b" args="(UINT32 channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT32 AnalogModule::GetAverageValue </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a sample from the output of the oversample and average engine for the channel.</p>
<p>The sample is 12-bit + the value configured in <a class="el" href="classAnalogModule.html#a556054af12905bd3d38972d15ecd08dc">SetOversampleBits()</a>. The value configured in <a class="el" href="classAnalogModule.html#a7c7f2eade6ca95f337d394c89f7f9da5">SetAverageBits()</a> will cause this value to be averaged 2**bits number of samples. This is not a sliding window. The sample will not change until 2**(OversamplBits + AverageBits) samples have been acquired from the module on this channel. Use <a class="el" href="classAnalogModule.html#ae74bde5efa97807ce42ad9834bb5b4b2">GetAverageVoltage()</a> to get the analog value in calibrated units.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Channel number to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A sample from the oversample and average engine for the channel. </dd></dl>

</div>
</div>
<a class="anchor" id="ae74bde5efa97807ce42ad9834bb5b4b2"></a><!-- doxytag: member="AnalogModule::GetAverageVoltage" ref="ae74bde5efa97807ce42ad9834bb5b4b2" args="(UINT32 channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AnalogModule::GetAverageVoltage </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a scaled sample from the output of the oversample and average engine for the channel.</p>
<p>The value is scaled to units of Volts using the calibrated scaling data from <a class="el" href="classAnalogModule.html#a1cc2b9f90b5abaa42ddfde7cbbbf7d7c">GetLSBWeight()</a> and <a class="el" href="classAnalogModule.html#a3c428c04cb174c95dad6f2cb449b135f">GetOffset()</a>. Using oversampling will cause this value to be higher resolution, but it will update more slowly. Using averaging will cause this value to be more stable, but it will update more slowly.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The channel to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A scaled sample from the output of the oversample and average engine for the channel. </dd></dl>

</div>
</div>
<a class="anchor" id="a73ff2a8a74ce3371d73c701890cc422a"></a><!-- doxytag: member="AnalogModule::GetInstance" ref="a73ff2a8a74ce3371d73c701890cc422a" args="(UINT8 moduleNumber)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAnalogModule.html">AnalogModule</a> * AnalogModule::GetInstance </td>
          <td>(</td>
          <td class="paramtype">UINT8&#160;</td>
          <td class="paramname"><em>moduleNumber</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get an instance of an Analog <a class="el" href="classModule.html">Module</a>.</p>
<p>Singleton analog module creation where a module is allocated on the first use and the same module is returned on subsequent uses.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">moduleNumber</td><td>The analog module to get (1 or 2). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the <a class="el" href="classAnalogModule.html">AnalogModule</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a1cc2b9f90b5abaa42ddfde7cbbbf7d7c"></a><!-- doxytag: member="AnalogModule::GetLSBWeight" ref="a1cc2b9f90b5abaa42ddfde7cbbbf7d7c" args="(UINT32 channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT32 AnalogModule::GetLSBWeight </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the factory scaling least significant bit weight constant. The least significant bit weight constant for the channel that was calibrated in manufacturing and stored in an eeprom in the module.</p>
<p>Volts = ((LSB_Weight * 1e-9) * raw) - (Offset * 1e-9)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The channel to get calibration data for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Least significant bit weight. </dd></dl>

</div>
</div>
<a class="anchor" id="a3c428c04cb174c95dad6f2cb449b135f"></a><!-- doxytag: member="AnalogModule::GetOffset" ref="a3c428c04cb174c95dad6f2cb449b135f" args="(UINT32 channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT32 AnalogModule::GetOffset </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the factory scaling offset constant. The offset constant for the channel that was calibrated in manufacturing and stored in an eeprom in the module.</p>
<p>Volts = ((LSB_Weight * 1e-9) * raw) - (Offset * 1e-9)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The channel to get calibration data for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Offset constant. </dd></dl>

</div>
</div>
<a class="anchor" id="acf3aa82998c5f22099a79d24f6c77861"></a><!-- doxytag: member="AnalogModule::GetOversampleBits" ref="acf3aa82998c5f22099a79d24f6c77861" args="(UINT32 channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT32 AnalogModule::GetOversampleBits </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the number of oversample bits.</p>
<p>This gets the number of oversample bits from the FPGA. The actual number of oversampled values is 2**bits. The oversampling is done automatically in the FPGA.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Channel to address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Bits to oversample. </dd></dl>

</div>
</div>
<a class="anchor" id="ab063044c14383369726b80ce93c334be"></a><!-- doxytag: member="AnalogModule::GetSampleRate" ref="ab063044c14383369726b80ce93c334be" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AnalogModule::GetSampleRate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the current sample rate on the module.</p>
<p>This assumes one entry in the scan list. This is a global setting for the module and effects all channels.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Sample rate. </dd></dl>

</div>
</div>
<a class="anchor" id="a23f1793a4408e824b7d6b38295ea8be1"></a><!-- doxytag: member="AnalogModule::GetValue" ref="a23f1793a4408e824b7d6b38295ea8be1" args="(UINT32 channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT16 AnalogModule::GetValue </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a sample straight from the channel on this module.</p>
<p>The sample is a 12-bit value representing the -10V to 10V range of the A/D converter in the module. The units are in A/D converter codes. Use <a class="el" href="classAnalogModule.html#a4c2875e0c44d93ea110bc3cf4f8d740e">GetVoltage()</a> to get the analog value in calibrated units.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A sample straight from the channel on this module. </dd></dl>

</div>
</div>
<a class="anchor" id="a4c2875e0c44d93ea110bc3cf4f8d740e"></a><!-- doxytag: member="AnalogModule::GetVoltage" ref="a4c2875e0c44d93ea110bc3cf4f8d740e" args="(UINT32 channel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float AnalogModule::GetVoltage </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a scaled sample straight from the channel on this module.</p>
<p>The value is scaled to units of Volts using the calibrated scaling data from <a class="el" href="classAnalogModule.html#a1cc2b9f90b5abaa42ddfde7cbbbf7d7c">GetLSBWeight()</a> and <a class="el" href="classAnalogModule.html#a3c428c04cb174c95dad6f2cb449b135f">GetOffset()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The channel to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A scaled sample straight from the channel on this module. </dd></dl>

</div>
</div>
<a class="anchor" id="a7c7f2eade6ca95f337d394c89f7f9da5"></a><!-- doxytag: member="AnalogModule::SetAverageBits" ref="a7c7f2eade6ca95f337d394c89f7f9da5" args="(UINT32 channel, UINT32 bits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AnalogModule::SetAverageBits </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the number of averaging bits.</p>
<p>This sets the number of averaging bits. The actual number of averaged samples is 2**bits. Use averaging to improve the stability of your measurement at the expense of sampling rate. The averaging is done automatically in the FPGA.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Analog channel to configure. </td></tr>
    <tr><td class="paramname">bits</td><td>Number of bits to average. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a556054af12905bd3d38972d15ecd08dc"></a><!-- doxytag: member="AnalogModule::SetOversampleBits" ref="a556054af12905bd3d38972d15ecd08dc" args="(UINT32 channel, UINT32 bits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AnalogModule::SetOversampleBits </td>
          <td>(</td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the number of oversample bits.</p>
<p>This sets the number of oversample bits. The actual number of oversampled values is 2**bits. Use oversampling to improve the resolution of your measurements at the expense of sampling rate. The oversampling is done automatically in the FPGA.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Analog channel to configure. </td></tr>
    <tr><td class="paramname">bits</td><td>Number of bits to oversample. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a19bfb0c8ddf33573c4da105bee04b951"></a><!-- doxytag: member="AnalogModule::SetSampleRate" ref="a19bfb0c8ddf33573c4da105bee04b951" args="(float samplesPerSecond)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AnalogModule::SetSampleRate </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>samplesPerSecond</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the sample rate on the module.</p>
<p>This is a global setting for the module and effects all channels.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">samplesPerSecond</td><td>The number of samples per channel per second. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4d32e8352879088d4749efec89751313"></a><!-- doxytag: member="AnalogModule::VoltsToValue" ref="a4d32e8352879088d4749efec89751313" args="(INT32 channel, float voltage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INT32 AnalogModule::VoltsToValue </td>
          <td>(</td>
          <td class="paramtype">INT32&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>voltage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convert a voltage to a raw value for a specified channel.</p>
<p>This process depends on the calibration of each channel, so the channel must be specified.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>This assumes raw values. Oversampling not supported as is.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The channel to convert for. </td></tr>
    <tr><td class="paramname">voltage</td><td>The voltage to convert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The raw value for the channel. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="AnalogModule_8h_source.html">AnalogModule.h</a></li>
<li>AnalogModule.cpp</li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Mon Jan 16 2012 16:29:31 for WPILib by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
